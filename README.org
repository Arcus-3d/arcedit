* arviewer
A fast 3D Gcode Viewer for visualization of multi-material, weighted mixing, fused filament fabrication.

#+CAPTION: CD4046B Block Diagramm
#+NAME:   fig:cd4046
#+name: fig:cd4046
[[./images/arviewer.png]]

* Overview

This was created to speed up *manually* adding the M163 codes needed for controlling active mixing filament printers, mainly... mine.  
Support for multi-material 3D printing is still young, and currently support for mixed/full color filament printing is basically non-existant.
This method gets around that for the time being as we'll never have weighted material support in a slicer until we are using it in 3d printers.

Adapted from the excellent: https://github.com/jonathanwin/yagv

* Features:

  * Fast, easy to use, 3D interface
  * Parsing and display of weighted material mixing M163 codes
  * Layer by layer/Line by line stepping/playback of gcode.
  * Opens and controls an interactive gvim window for editing.
  * Streamlines visual matching of current extrusion segment to gcode line number.
  * Support for Machinekit velocity extrusion. There is no E.


* Requires:

  * python 2.x (2.7.3 tested)
    http://python.org/
  * pyglet 1.1+ (1.1.4 tested)
    http://www.pyglet.org
  * vimrunner 1.0.3
    sudo pip install vimrunner
  * gvim 7.4 with +clientserver enabled at compile time
    vim --version to check compile time options

* Usage:

  * Generate gcode using the velocity extrusion patched version of Slic3r for Machinekit.
  * Edit config.cfg and setup your filament color RGB values.
  * Execute: arviewer [file.gcode]
  * Use arviewer to locate a suitable point to alter the filament mix ratio.
  * Press C to insert color code at that point and review the changes made via the gvim window.
  * Press R in arviewer to save the changes in gvim, and to reload arviewer and see the changes.  
    The filament RGB value after mixing is calculated per line segment, and the resulting extrusion is displayed in the interface.
  * Repeat the last three steps... a lot.


* Issues:

  * Panning not yet implemented.
  * Adding/Removing M163 codes is still external/manual
  * Designed for Slic3r output.  Other slicing programs may not work.
  * Many gcodes unsupported, in particular:
    - G20: Set Units to Inches (usage unknown) 
    - Arcs (G2 & G3 ?)
